<!doctype html>
<html lang="en">

<head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm"
        crossorigin="anonymous">
    <style>
        img {
            width: 90px;
            height: 90px;
            /* border: 1px solid #000; */
        }

        .col-1 {
            padding: 0px;
        }

        .row div {
            height: 90px;
        }

        .response {
            border: none;
            transition: all .3s;
        }

        .active_1 {
            border: solid 5px red;
            box-shadow: 0 0 20px red;
            transition: all 0s;
        }

        .active_2 {
            border: solid 5px blue;
            box-shadow: 0 0 20px blue;
            transition: all 0s;
        }

        div img {
            height: 99%;
            width: 100%;
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="row">
            <div style="border-bottom: 1px solid #000" class="col">
                <h1 style="text-align:center;margin-top:5px;font-size:60px;">Build School</h1>
            </div>
        </div>
        <div style="margin-top: 2em;" class="row">
            <div name="Bootstrap" id="i1" class="col-1">
                <img src="Slot_Images/bootstrap.png" alt="">
            </div>
            <div name="筆" id="i2" class="col-1">
                <img src="Slot_Images/pencil.png" alt="">
            </div>
            <div name="C-Sharp" id="i3" class="col-1">
                <img src="Slot_Images/C_Sharp.png" alt="">
            </div>
            <div name="Visual Studio" id="i4" class="col-1">
                <img src="Slot_Images/VS.png" alt="">
            </div>
            <div class="col-8">

            </div>
        </div>
        <div class="row">
            <div name="VS Code" id="i12" class="col-1">
                <img src="Slot_Images/VS_CODE.png" alt="">
            </div>
            <div class="col-2">

            </div>
            <div name="JavaScript" id="i5" class="col-1">
                <img src="Slot_Images/JavaScript.png" alt="">
            </div>
            <div class="col-8">
                <div class="row">
                    <div class="col-1">

                    </div>
                    <div style="text-align: center" class="col-1">
                        <span style="font-family:'微軟正黑體';font-size: 26px;">用</span>
                    </div>
                    <div class="col-4">
                        <div class="form-group">
                            <input id="X" readonly style="text-align: center" type="text" class="form-control" name="" aria-describedby="helpId" placeholder="(工具)">
                        </div>
                    </div>
                    <div style="text-align: center" class="col-1">
                        <span style="font-family:'微軟正黑體';font-size: 26px;">寫</span>
                    </div>
                    <div class="col-4">
                        <div class="form-group">
                            <input id="Y" readonly style="text-align: center" type="text" class="form-control" name="" aria-describedby="helpId" placeholder="(練習)">
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div name="JQuery" id="i11" class="col-1">
                <img src="Slot_Images/jquery.png" alt="">
            </div>
            <div class="col-2">

            </div>
            <div name="記事本" id="i6" class="col-1">
                <img src="Slot_Images/TXT.jpg" alt="">
            </div>
            <div class="col-8">
                <div class="row">
                    <div class="col-2">

                    </div>
                    <div class="col-8">
                        <button id="buttonStart" style="width:inherit;height:5em;" type="button" class="btn btn-primary"><span style="font-size: 36px;font-family:'微軟正黑體'">機會、命運</span></button>
                    </div>
                    <div class="col-2">
                        
                    </div>
                </div>
            </div>
        </div>
        <div class="row">
            <div name="工具人幫忙" id="i10" class="col-1">
                <img src="Slot_Images/Team-256.png" alt="">
            </div>
            <div name="CSS、HTML" id="i9" class="col-1">
                <img src="Slot_Images/logo-csshtml.jpg" alt="">
            </div>
            <div name="嘴巴" id="i8" class="col-1">
                <img src="Slot_Images/mouth.png" alt="">
            </div>
            <div name="黑克松" id="i7" class="col-1">
                <img src="Slot_Images/hackathon.png" alt="">
            </div>
            <div class="col-8">

            </div>
        </div>
        <div class="row">
            <div class="col-4">

            </div>
        </div>
    </div>

    <script>
        var bricks = [];
        var steps_1 = 0;
        var steps_2 = 0;
        var startPoint_1 = 0;
        var startPoint_2 = 6;
        var all_steps_1 = 0;
        var all_steps_2 = 0;

        for (var i = 1; i <= 12; i++) {
            bricks.push(document.getElementById("i" + i));
        }

        //console.log(bricks);

        document.getElementById("buttonStart").onclick = function () {
            this.disabled = true;
            var random1 = Math.floor(Math.random() * 12);
            var random2 = Math.floor(Math.random() * 12);
            startPoint_1 = 0;
            startPoint_2 = 6;

            for (var i = 0; i < bricks.length; i++) {
                bricks[i].className = "col-1 response";
            }

            while (true) {
                if (random1 % 2 != 0) {
                    random1 = Math.floor(Math.random() * 12);
                }
                if (random2 % 2 != 1) {
                    random2 = Math.floor(Math.random() * 12);
                }
                if (random1 % 2 == 0 && random2 % 2 == 1) {
                    break;
                }
            }

            console.log(random1);
            console.log(random2);

            steps_1 = bricks.length * 5;
            steps_1 += random1 + 1;
            all_steps_1 = steps_1;

            steps_2 = bricks.length * 5;
            steps_2 += random2 + 1;
            all_steps_2 = steps_2;
            //var speed = 0;
            //var u = 0;
            console.log("steps_1 : " + steps_1);
            console.log("steps_2 : " + steps_2);

            //document.getElementById("i"+random).className = "col-1 " + "active";
            turnAround();
            turnAround2();
        }

        var speed_1 = 0;
        var u_1 = 0;
        function turnAround() {
            bricks[startPoint_1].classList.remove("active_1");
            bricks[startPoint_1].classList.add("response");

            startPoint_1++;

            if (startPoint_1 >= bricks.length) {
                startPoint_1 = 0;
            }

            bricks[startPoint_1].classList.remove("response");
            bricks[startPoint_1].classList.add("active_1");


            steps_1--;
            if (steps_1 > 0) {
                if (steps_1 > Math.floor((all_steps_1) / 3)) {
                    speed_1 = steps_1;
                    setTimeout(turnAround, speed_1);
                    //console.log(speed_1);
                    u_1 = speed_1;
                }
                else {
                    //console.log("Hi");
                    speed_1 = u_1;
                    u_1 = u_1 + 7;
                    setTimeout(turnAround, speed_1);
                    //console.log(speed_1);
                }
            }
            else {
                //startPoint_1 = 0;
                console.log(bricks[startPoint_1].getAttribute("name"));
                document.getElementById("X").value = bricks[startPoint_1].getAttribute("name");
                document.getElementById("buttonStart").disabled = false;
            }
        }

        var speed_2 = 0;
        var u_2 = 0;
        function turnAround2() {
            bricks[startPoint_2].classList.remove("active_2");
            bricks[startPoint_2].classList.add("response");

            startPoint_2++;

            if (startPoint_2 >= bricks.length) {
                startPoint_2 = 0;
            }

            bricks[startPoint_2].classList.remove("response");
            bricks[startPoint_2].classList.add("active_2")


            steps_2--;
            if (steps_2 > 0) {
                if (steps_2 > Math.floor((all_steps_2) / 3)) {
                    speed_2 = steps_2;
                    setTimeout(turnAround2, speed_2);
                    //console.log(speed_1);
                    u_2 = speed_2;
                }
                else {
                    //console.log("Hi");
                    speed_2 = u_2;
                    u_2 = u_2 + 7;
                    setTimeout(turnAround2, speed_2);
                    //console.log(speed_1);
                }
            }
            else {
                console.log(bricks[startPoint_2].getAttribute("name"));
                document.getElementById("Y").value = bricks[startPoint_2].getAttribute("name");
                document.getElementById("buttonStart").disabled = false;
            }
        }
    </script>
    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q"
        crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl"
        crossorigin="anonymous"></script>
</body>

</html>